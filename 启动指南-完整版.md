# 火车票售票系统 - 完整启动指南

## 📋 可用的启动脚本

### 🎯 推荐使用：启动菜单
```bash
startup-menu.bat
```
- 提供交互式菜单选择
- 包含所有功能选项
- 适合所有用户

### 🚀 完整启动（首次使用推荐）
```bash
start-service.bat       # 批处理版本
start-service.ps1       # PowerShell版本
```
**功能：**
- 自动检查MySQL服务状态
- 检查端口3000占用情况
- 安装npm依赖
- 测试MySQL连接
- 启动Node.js服务器

### ⚡ 快速启动（已配置环境）
```bash
quick-start.bat
```
**功能：**
- 检查端口3000
- 直接启动服务器
- 适用于已经配置好的环境

### 🔧 MySQL管理工具

#### 密码配置工具
```bash
node configure-mysql-password.js
```
- 测试不同密码
- 自动更新配置文件

#### 密码重置工具（需要管理员权限）
```bash
mysql-reset-password-complete.bat
mysql-reset-password-complete.ps1
```
- 重置MySQL root密码为空
- 需要管理员权限运行

## 🎯 推荐的启动流程

### 首次使用：
1. **右键以管理员身份运行** `startup-menu.bat`
2. **选择选项1**（完整启动）
3. **如果MySQL连接失败**，选择选项4重置密码
4. **重新选择选项1**启动服务

### 日常使用：
1. **双击运行** `startup-menu.bat`
2. **选择选项2**（快速启动）

## 📊 启动检查清单

### ✅ 启动成功标志：
- MySQL服务正在运行
- 端口3000已释放
- 依赖安装成功
- 数据库连接成功
- 服务器启动在 http://localhost:3000

### ❌ 常见问题解决：

**问题1：端口3000被占用**
- 解决：脚本会自动终止占用进程

**问题2：MySQL连接失败**
- 解决：运行 `mysql-reset-password-complete.bat`（管理员权限）

**问题3：npm依赖安装失败**
- 解决：检查网络连接，手动运行 `npm install`

**问题4：MySQL服务未启动**
- 解决：脚本会自动启动MySQL80服务

## 🌐 访问地址

### 主要页面：
- **服务器状态**：http://localhost:3000
- **测试页面**：http://localhost:3000/mysql-test.html
- **API端点**：http://localhost:3000/api/

### 测试功能：
- 火车查询
- 座位预订
- 订单管理
- 数据库连接测试

## 🛠️ 高级使用

### 手动启动（如果脚本失败）：
```bash
# 1. 检查MySQL服务
net start MySQL80

# 2. 安装依赖
npm install

# 3. 启动服务器
node back-end.js
```

### 停止服务：
```bash
# 按 Ctrl+C 停止服务器
# 或者使用任务管理器终止 node.exe 进程
```

### 查看日志：
- 服务器日志会直接显示在命令行窗口
- 数据库操作日志包含在服务器输出中

## 🔧 故障排除

### 如果所有脚本都失败：
1. 检查MySQL是否正确安装
2. 检查Node.js版本（建议14+）
3. 重新安装项目依赖：`npm install`
4. 手动重置MySQL密码
5. 联系技术支持

### 日志文件位置：
- 无持久化日志文件
- 所有日志显示在控制台

## 📝 注意事项

1. **管理员权限**：某些脚本需要管理员权限运行
2. **防火墙设置**：确保端口3000未被防火墙阻止
3. **MySQL版本**：支持MySQL 8.0+
4. **Node.js版本**：建议使用Node.js 14+

---

**建议：首次使用请选择完整启动脚本，确保所有组件正常工作后再使用快速启动。** 